Manipulate C Intermediate Language ASTs with CIL

This tool performs a number of operations on CIL ASTs parsed from C
source files.

      ids | prints the total number of statements
     list | list each statement with its ID
      cut | cut that numbered statement
   insert | copies the second numbered statement before the first
     swap | swaps the two numbered statements

Installation

  The cil-mutate tool requires that CIL [1] be installed on your
  machine and able to be found by the ocamlfind utility.

  [1] http://kerneis.github.com/cil/

Examples

    $ cat etc/hello.c
    #include <stdio.h>
    int main(int argc, char *argv[])
    {
      puts("hello");
      return 0;
    }

    $ cil-mutate etc/hello.c
    extern int ( /* missing proto */  puts)() ;
    int main(int argc , char **argv )
    {


      {
      puts("hello");
      return (0);
    }
    }

    $ cil-mutate -ids etc/hello.c
    2

    $ cil-mutate -list etc/hello.c
    0 Instr
    1 Return

    $ cil-mutate -cut -stmt1 0 etc/hello.c
    extern int ( /* missing proto */  puts)() ;
    int main(int argc , char **argv )
    {


      {
      {

      }
      return (0);
    }
    }

    $ cil-mutate -swap -stmt1 0 -stmt2 1 etc/hello.c
    extern int ( /* missing proto */  puts)() ;
    int main(int argc , char **argv ) 
    { 


      {
      return (0);
      puts("hello");
    }
    }

License

  Licensed under the GPLV3, see the COPYING file in this directory for
  more information.
